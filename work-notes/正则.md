
# 正则
> 在平时的工作中常常会碰到正则，但是我发现，每次都忘记该怎么去写，所以在这里稍微复习总结一下
# 先看题
```js
/* 题目一 */
var str1 = '123456765464153513566'
// 分割数字每三个以一个逗号划分(从后往前)
// 如1234 -> 1,234


/* 题目二 */
var str2 = "get-element-by-id"
// 将-的命名方式改为小驼峰
// 期望结果getElementById


/* 题目三 */
var str3 = 'getElementById'
console.log(str3.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase())
// 写出运行结果
```
看完这三个题目，你是否有想法，下面公布答案
```js
// 题目一
console.log(str1.replace(/(\d)(?=(\d{3})+$)/g,'$1,'))
// 123,456,765,464,153,513,566

// 题目二
console.log(str2.replace(/-\w/g, ($0) => {
    return $0.slice(1).toUpperCase()
}))
// getElementById

// 题目三
// get-element-by-id
```

如果你的答案全部正确，那么请忽略下面的内容

# 复习

## 简单的匹配规则
- 如想在`apple`这个单词里找到`a`这个字符，就直接用`/a/`这个正则就可以了
- 如果想匹配`*`,需要使用`\`来转义去掉其本来的含义，正则就可以写成`/\*/`
- 有一些字符本不是特殊字符，使用转义符号就会让它拥有特殊的含义

| 特殊字符	 | 正则表达式 | 记忆方式 |
| :-----:| :----: | :----: |
| 换行符 | \n | new line |
| 换页符 | \f | form feed |
| 回车符 | \r | return |
| 空白符 | \s | space |
| 制表符 | \t | tab |
| 垂直制表符 | \v | vertical tab |
| 回退符 | [\b]	 | backspace,之所以使用[]符号是避免和\b重复 |

## 匹配多字符
- 集合的定义方式是使用中括号`[`和`]`,如`/[123]/`这个正则就能同时匹配1,2,3三个字符。用`/[0-9]/`就能匹配所有的数字, `/[a-z]/`则可以匹配所有的英文小写字母
- 同时匹配多个字符的简便正则表达式：

| 匹配区间 | 正则表达式 | 记忆方式 |
| :-----:| :----: | :----: |
| 除了换行符之外的任何字符 | . | 句号,除了句子结束符 |
| 单个数字, [0-9] | \d | digit |
| 除了[0-9] | \D | not digit |
| 包括下划线在内的单个字符，[A-Za-z0-9_] | \w | word |
| 非单字字符 | \W | not word |
| 匹配空白字符,包括空格、制表符、换页符和换行符 | \s | space |
| 匹配非空白字符 | \S | not space |

## 重复匹配
- 元字符 `?` 代表了匹配一个字符或0个字符, 例匹配 `color` 和 `colour` 这两个单词, 就可以写为 `/colou?r/`
- 元字符 `*` 用来表示匹配0个字符或无数个字符, 例匹配 `color` 和`colouuuuuur` 就可以写为 `/colou*r/`
- 元字符+适用于要匹配同个字符出现1次或多次的情况。 `color`和`colour` 这两个单词， 若使用 `/colou+r/` 来匹配，就只能匹配到`colour`
- 匹配特定的次数， 可以使用元字符 `{` 和 `}` 用来给重复匹配设置精确的区间范围。如 `a` 我想匹配3次,那么我就使用 `/a{3}/` 这个正则，或者说 `a` 我想匹配至少两次就是用 `/a{2,}/` 这个正则。
  - {x}: x次
  - {min, max}： 介于min次到max次之间 
  - {min, }: 至少min次
  - {0, max}： 至多max次
> 总结
> | 匹配规则 | 元字符 |
> | :-----:| :----: | 
> | 0次或1次 | ? |
> | 0次或无数次 | * |
> | 1次或无数次 | + |
> | 特定次数 | {x}, {min, max} |

## 位置边界
- 单词边界 `\b` , 例 `The cat scattered his food all over the room.` 匹配出所有的单词`cat` ， 就可以写成 `/\bcat\b/g` 
- 字符串边界，元字符 `^` 用来匹配字符串的开头。而元字符`$` 用来匹配字符串的末尾。


边界总结：

| 边界和标志 | 正则表达式 | 记忆方式 |
| :-----:| :----: | :----: |
| 单词边界 | \b | boundary |
| 非单词边界 | \B | not boundary |
| 字符串开头 | ^ | - |
| 字符串结尾 | $ | - |
| 多行模式 | m标志 | multiple of lines |
| 忽略大小写 | i标志 | ignore case, case-insensitive |
| 全局模式 | g标志 | global |

## 子表达式
### 分组
所有以 `(` 和 `)` 元字符所包含的正则表达式被分为一组，每一个分组都是一个`子表达式`，它也是构成高级正则表达式的基础。
### 回溯引用

